{"remainingRequest":"D:\\3-PROGRAM\\v\\v2\\node_modules\\babel-loader\\lib\\index.js!D:\\3-PROGRAM\\v\\v2\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\3-PROGRAM\\v\\v2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\3-PROGRAM\\v\\v2\\src\\components\\SearchBox.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\3-PROGRAM\\v\\v2\\src\\components\\SearchBox.vue","mtime":1632034941971},{"path":"D:\\3-PROGRAM\\v\\v2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\3-PROGRAM\\v\\v2\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\3-PROGRAM\\v\\v2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\3-PROGRAM\\v\\v2\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IE1hcCBmcm9tICcuL01hcC52dWUnOwppbXBvcnQgeyBnbWFwQXBpIH0gZnJvbSAndnVlMi1nb29nbGUtbWFwcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnU2VhcmNoQm94JywKICBjb21wb25lbnRzOiB7CiAgICBNYXA6IE1hcAogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGdvb2dsZTogZ21hcEFwaQogIH0sCiAgcHJvcHM6IHsKICAgIHBfZGF0YTogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmbGFnOiBmYWxzZSwKICAgICAgaW5wdXQ6ICcnLAogICAgICByZXN1bHRzOiBbXSwKICAgICAgc2VhcmNoOiAiIgogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2tPdXRzaWRlKTsKICB9LAogIGRlc3Ryb3llZDogZnVuY3Rpb24gZGVzdHJveWVkKCkgewogICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZUNsaWNrT3V0c2lkZSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBtYXJrOiBmdW5jdGlvbiBtYXJrKCkgewogICAgICAvL3RoaXMucmVzdWx0cyA9IHRoaXMucF9kYXRhLmZpbHRlcihpdGVtID0+IGl0ZW0udG9Mb3dlckNhc2UoKS5pbmRleE9mKHRoaXMuaW5wdXQudG9Mb3dlckNhc2UoKSkgPiAtMSk7CiAgICAgIHRoaXMucmVzdWx0cyA9IHRoaXMucF9kYXRhOwogICAgfSwKICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZSgpIHsKICAgICAgdGhpcy5tYXJrKCk7CiAgICAgIHRoaXMuJGVtaXQoJ3NlYXJjaCcsIHRoaXMuaW5wdXQpOwogICAgICB0aGlzLmZsYWcgPSB0cnVlOwogICAgfSwKICAgIGdldExvY2F0aW9uOiBmdW5jdGlvbiBnZXRMb2NhdGlvbihsb2NhdGlvbikgewogICAgICB2YXIgZ2VvY29kZXIgPSBuZXcgZ29vZ2xlLm1hcHMuR2VvY29kZXIoKTsgLy9jb25zdCBnZW9jb2RlciA9IG5ldyB0aGlzLmdvb2dsZS5tYXBzLkdlb2NvZGVyKCk7Ly9uZXcKCiAgICAgIGNvbnNvbGUubG9nKGdlb2NvZGVyLmdlb2NvZGUoewogICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbgogICAgICB9KSk7CiAgICAgIGdlb2NvZGVyLmdlb2NvZGUoewogICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbgogICAgICB9LCBmdW5jdGlvbiAocmVzdWx0cywgc3RhdHVzKSB7CiAgICAgICAgaWYgKHN0YXR1cyA9PT0gJ09LJykgewogICAgICAgICAgY29uc29sZS5sb2coJ09LJyk7CiAgICAgICAgICB2YXIgbGF0aXR1ZGUgPSByZXN1bHRzWzBdLmdlb21ldHJ5LmxvY2F0aW9uLmxhdCgpOwogICAgICAgICAgdmFyIGxvbmdpdHVkZSA9IHJlc3VsdHNbMF0uZ2VvbWV0cnkubG9jYXRpb24ubG5nKCk7CiAgICAgICAgICBjb25zb2xlLmxvZyhsYXRpdHVkZSk7CiAgICAgICAgICBjb25zb2xlLmxvZyhsb25naXR1ZGUpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgY29uZmlybTogZnVuY3Rpb24gY29uZmlybShyZXN1bHQpIHsKICAgICAgdGhpcy5zZWFyY2ggPSByZXN1bHQuTmFtZTsKICAgICAgdGhpcy5mbGFnID0gZmFsc2U7CiAgICAgIHRoaXMuZ2V0TG9jYXRpb24odGhpcy5zZWFyY2gpOwogICAgfSwKICAgIGhhbmRsZUNsaWNrT3V0c2lkZTogZnVuY3Rpb24gaGFuZGxlQ2xpY2tPdXRzaWRlKGV2ZW50KSB7CiAgICAgIGlmICghdGhpcy4kZWwuY29udGFpbnMoZXZlbnQudGFyZ2V0KSkgewogICAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["SearchBox.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAcA,OAAA,GAAA,MAAA,WAAA;AACA,SAAA,OAAA,QAAA,kBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,GAAA,EAAA;AADA,GAFA;AAKA,EAAA,QAAA,EAAA;AACA,IAAA,MAAA,EAAA;AADA,GALA;AAQA,EAAA,KAAA,EAAA;AACA,IAAA,MAAA,EAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,QAAA,EAAA,KAFA;AAGA,MAAA,OAAA,EAAA;AAAA,eAAA,EAAA;AAAA;AAHA;AADA,GARA;AAeA,EAAA,IAfA,kBAeA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,KAAA,EAAA,EAFA;AAGA,MAAA,OAAA,EAAA,EAHA;AAIA,MAAA,MAAA,EAAA;AAJA,KAAA;AAMA,GAtBA;AAuBA,EAAA,OAvBA,qBAuBA;AACA,IAAA,QAAA,CAAA,gBAAA,CAAA,OAAA,EAAA,KAAA,kBAAA;AACA,GAzBA;AA0BA,EAAA,SA1BA,uBA0BA;AACA,IAAA,QAAA,CAAA,mBAAA,CAAA,OAAA,EAAA,KAAA,kBAAA;AACA,GA5BA;AA8BA,EAAA,OAAA,EAAA;AACA,IAAA,IADA,kBACA;AACA;AACA,WAAA,OAAA,GAAA,KAAA,MAAA;AACA,KAJA;AAKA,IAAA,QALA,sBAKA;AACA,WAAA,IAAA;AACA,WAAA,KAAA,CAAA,QAAA,EAAA,KAAA,KAAA;AACA,WAAA,IAAA,GAAA,IAAA;AACA,KATA;AAUA,IAAA,WAVA,uBAUA,QAVA,EAUA;AACA,UAAA,QAAA,GAAA,IAAA,MAAA,CAAA,IAAA,CAAA,QAAA,EAAA,CADA,CAEA;;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,QAAA,CAAA,OAAA,CAAA;AAAA,QAAA,QAAA,EAAA;AAAA,OAAA,CAAA;AACA,MAAA,QAAA,CAAA,OAAA,CAAA;AAAA,QAAA,QAAA,EAAA;AAAA,OAAA,EAAA,UAAA,OAAA,EAAA,MAAA,EAAA;AACA,YAAA,MAAA,KAAA,IAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AACA,cAAA,QAAA,GAAA,OAAA,CAAA,CAAA,CAAA,CAAA,QAAA,CAAA,QAAA,CAAA,GAAA,EAAA;AACA,cAAA,SAAA,GAAA,OAAA,CAAA,CAAA,CAAA,CAAA,QAAA,CAAA,QAAA,CAAA,GAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,QAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,SAAA;AACA;AAAA,OAPA;AAQA,KAtBA;AAuBA,IAAA,OAvBA,mBAuBA,MAvBA,EAuBA;AACA,WAAA,MAAA,GAAA,MAAA,CAAA,IAAA;AACA,WAAA,IAAA,GAAA,KAAA;AACA,WAAA,WAAA,CAAA,KAAA,MAAA;AACA,KA3BA;AA8BA,IAAA,kBA9BA,8BA8BA,KA9BA,EA8BA;AACA,UAAA,CAAA,KAAA,GAAA,CAAA,QAAA,CAAA,KAAA,CAAA,MAAA,CAAA,EAAA;AACA,aAAA,MAAA,GAAA,KAAA;AACA;AACA;AAlCA;AA9BA,CAAA","sourcesContent":["<template>\n  <b-row>\n    <b-col cols=\"12\">\n    <Map :place = \"search.Name\"></Map>{{input}}{{search.Name}}\n      <input class=\"auto\" v-model=\"input\" @input=\"onChange\" type=\"text\"/>\n        <ul v-show=\"flag\" class=\"a1\">\n          <li class=\"result1\" v-for=\"(result,i) in results\" :key=\"i\" @click=\"confirm(result)\">{{result.Name}}</li>\n        </ul>\n    </b-col>\n  </b-row>\n\n</template>\n\n<script>\nimport Map from './Map.vue'\nimport {gmapApi} from 'vue2-google-maps'\n\nexport default {\n  name: 'SearchBox',\n  components: {\n    Map\n  },\n  computed:{\n    google:gmapApi,\n    },\n  props: {\n    p_data: {\n      type:Array,\n      required:false,\n      default:()=>[],\n    }\n  },\n  data(){\n    return{\n      flag:false,\n      input:'',\n      results:[],\n      search:\"\"\n    }\n  },\n  mounted() {\n    document.addEventListener('click', this.handleClickOutside);\n  },\n  destroyed() {\n    document.removeEventListener('click', this.handleClickOutside);\n  },\n  \n  methods:{\n    mark(){\n      //this.results = this.p_data.filter(item => item.toLowerCase().indexOf(this.input.toLowerCase()) > -1);\n      this.results = this.p_data;\n    },\n    onChange(){\n      this.mark();\n      this.$emit('search',this.input)\n      this.flag = true;\n    },\n    getLocation(location){\n      var geocoder = new google.maps.Geocoder();\n      //const geocoder = new this.google.maps.Geocoder();//new\n      console.log(geocoder.geocode({ location }))\n      geocoder.geocode({ location }, function (results, status) {\n              if (status === 'OK') {\n                console.log('OK')\n                const latitude = results[0].geometry.location.lat()\n                const longitude = results[0].geometry.location.lng()\n                console.log(latitude)\n                console.log(longitude)\n                }})\n    },\n    confirm(result){\n      this.search = result.Name;\n      this.flag = false;\n      this.getLocation(this.search);\n    },\n    \n    \n    handleClickOutside(event) {\n      if (!this.$el.contains(event.target)) {\n        this.isOpen = false;\n      }\n    }\n  }\n}\n</script>\n<style>\n  .auto {\n    position: relative;\n  }\n\n  .a1 {\n    padding: 0;\n    margin: 0;\n    border: 1px solid #eeeeee;\n    height: 120px;\n    min-height: 1em;\n    max-height: 6em;\n    overflow: auto;\n  }\n\n  .result1 {\n    list-style: none;\n    text-align: left;\n    padding: 4px 2px;\n    cursor: pointer;\n  }\n\n  .result1:hover {\n    background-color: #4AAE9B;\n    color: white;\n  }\n</style>\n"],"sourceRoot":"src/components"}]}