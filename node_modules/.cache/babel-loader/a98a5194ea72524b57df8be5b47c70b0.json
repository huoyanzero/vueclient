{"remainingRequest":"D:\\3-PROGRAM\\final\\vwproject\\client1\\node_modules\\babel-loader\\lib\\index.js!D:\\3-PROGRAM\\final\\vwproject\\client1\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\3-PROGRAM\\final\\vwproject\\client1\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\3-PROGRAM\\final\\vwproject\\client1\\src\\components\\SearchBox.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\3-PROGRAM\\final\\vwproject\\client1\\src\\components\\SearchBox.vue","mtime":1632094579602},{"path":"D:\\3-PROGRAM\\final\\vwproject\\client1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\3-PROGRAM\\final\\vwproject\\client1\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\3-PROGRAM\\final\\vwproject\\client1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\3-PROGRAM\\final\\vwproject\\client1\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNlYXJjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IE1hcCBmcm9tICcuL01hcC52dWUnOwppbXBvcnQgeyBnbWFwQXBpIH0gZnJvbSAndnVlMi1nb29nbGUtbWFwcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnU2VhcmNoQm94JywKICBjb21wb25lbnRzOiB7CiAgICBNYXA6IE1hcAogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGdvb2dsZTogZ21hcEFwaQogIH0sCiAgcHJvcHM6IHsKICAgIHBfZGF0YTogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgcmVxdWlyZWQ6IGZhbHNlCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZmxhZzogZmFsc2UsCiAgICAgIGlucHV0OiAnJywKICAgICAgc2VhcmNoOiAiIiwKICAgICAgbGF0MjogMCwKICAgICAgbG5nMjogMCwKICAgICAgdGl0bGU6ICcnLAogICAgICBlcnJvcjogJycKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBoaWdoTGlnaHQ6IGZ1bmN0aW9uIGhpZ2hMaWdodChjdXJyZW50KSB7CiAgICAgIC8vaGlnaGxpZ2h0IHRoZSBtYXRjaGluZyBwYXJ0CiAgICAgIHZhciByZWdnaWUgPSBuZXcgUmVnRXhwKHRoaXMuaW5wdXQsICJnaSIpOwogICAgICB2YXIgZm91bmQgPSBjdXJyZW50LnNlYXJjaChyZWdnaWUpICE9PSAtMTsKICAgICAgcmV0dXJuICFmb3VuZCA/IGN1cnJlbnQgOiBjdXJyZW50LnJlcGxhY2UocmVnZ2llLCBmdW5jdGlvbiAoJDEpIHsKICAgICAgICByZXR1cm4gJzxzdHJvbmc+JyArICQxICsgJzwvc3Ryb25nPic7CiAgICAgIH0pOwogICAgfSwKICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZSgpIHsKICAgICAgdGhpcy5lcnJvciA9ICcnOwogICAgICB0aGlzLiRlbWl0KCdzZWFyY2gnLCB0aGlzLmlucHV0KTsKICAgICAgdGhpcy5mbGFnID0gdHJ1ZTsKICAgIH0sCiAgICBnZXRMb2NhdGlvbjogZnVuY3Rpb24gZ2V0TG9jYXRpb24oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAvL2dldCBsb2NhdGlvbiB2YXJpYWJsZXMKICAgICAgdmFyIGdlb2NvZGVyID0gbmV3IHRoaXMuZ29vZ2xlLm1hcHMuR2VvY29kZXIoKTsKICAgICAgZ2VvY29kZXIuZ2VvY29kZSh7CiAgICAgICAgJ2FkZHJlc3MnOiB0aGlzLmlucHV0CiAgICAgIH0sIGZ1bmN0aW9uIChyZXN1bHRzLCBzdGF0dXMpIHsKICAgICAgICBpZiAoc3RhdHVzID09ICdPSycpIHsKICAgICAgICAgIF90aGlzLmxhdDIgPSByZXN1bHRzWzBdLmdlb21ldHJ5LmxvY2F0aW9uLmxhdCgpOwogICAgICAgICAgX3RoaXMubG5nMiA9IHJlc3VsdHNbMF0uZ2VvbWV0cnkubG9jYXRpb24ubG5nKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLmVycm9yID0gJ1NvcnJ5IG5vdCBhYmxlIHRvIGZpbmQgdGhlIGxvY2F0aW9uJzsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGNvbmZpcm06IGZ1bmN0aW9uIGNvbmZpcm0ocmVzdWx0KSB7CiAgICAgIGlmICh0eXBlb2YgcmVzdWx0ICE9ICd1bmRlZmluZWQnKSB7CiAgICAgICAgdGhpcy5pbnB1dCA9IHRoaXMuaW5wdXQgPT0gcmVzdWx0ID8gcmVzdWx0IDogcmVzdWx0Lk5hbWU7CiAgICAgICAgdGhpcy5mbGFnID0gZmFsc2U7CiAgICAgICAgdGhpcy50aXRsZSA9IHRoaXMuaW5wdXQ7CiAgICAgICAgdGhpcy5nZXRMb2NhdGlvbigpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZXJyb3IgPSAnU29ycnkgbm90IGFibGUgdG8gZmluZCB0aGUgbG9jYXRpb24nOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["SearchBox.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAgBA,OAAA,GAAA,MAAA,WAAA;AACA,SAAA,OAAA,QAAA,kBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,GAAA,EAAA;AADA,GAFA;AAKA,EAAA,QAAA,EAAA;AACA,IAAA,MAAA,EAAA;AADA,GALA;AAQA,EAAA,KAAA,EAAA;AACA,IAAA,MAAA,EAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,QAAA,EAAA;AAFA;AADA,GARA;AAcA,EAAA,IAdA,kBAcA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,KAAA,EAAA,EAFA;AAGA,MAAA,MAAA,EAAA,EAHA;AAIA,MAAA,IAAA,EAAA,CAJA;AAKA,MAAA,IAAA,EAAA,CALA;AAMA,MAAA,KAAA,EAAA,EANA;AAOA,MAAA,KAAA,EAAA;AAPA,KAAA;AASA,GAxBA;AA2BA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,qBACA,OADA,EACA;AAAA;AACA,UAAA,MAAA,GAAA,IAAA,MAAA,CAAA,KAAA,KAAA,EAAA,IAAA,CAAA;AACA,UAAA,KAAA,GAAA,OAAA,CAAA,MAAA,CAAA,MAAA,MAAA,CAAA,CAAA;AACA,aAAA,CAAA,KAAA,GAAA,OAAA,GAAA,OAAA,CAAA,OAAA,CAAA,MAAA,EAAA,UAAA,EAAA,EAAA;AAAA,eAAA,aAAA,EAAA,GAAA,WAAA;AAAA,OAAA,CAAA;AACA,KALA;AAMA,IAAA,QANA,sBAMA;AACA,WAAA,KAAA,GAAA,EAAA;AACA,WAAA,KAAA,CAAA,QAAA,EAAA,KAAA,KAAA;AACA,WAAA,IAAA,GAAA,IAAA;AACA,KAVA;AAWA,IAAA,WAXA,yBAWA;AAAA;;AAAA;AACA,UAAA,QAAA,GAAA,IAAA,KAAA,MAAA,CAAA,IAAA,CAAA,QAAA,EAAA;AACA,MAAA,QAAA,CAAA,OAAA,CAAA;AAAA,mBAAA,KAAA;AAAA,OAAA,EAAA,UAAA,OAAA,EAAA,MAAA,EAAA;AACA,YAAA,MAAA,IAAA,IAAA,EAAA;AACA,UAAA,KAAA,CAAA,IAAA,GAAA,OAAA,CAAA,CAAA,CAAA,CAAA,QAAA,CAAA,QAAA,CAAA,GAAA,EAAA;AACA,UAAA,KAAA,CAAA,IAAA,GAAA,OAAA,CAAA,CAAA,CAAA,CAAA,QAAA,CAAA,QAAA,CAAA,GAAA,EAAA;AACA,SAHA,MAGA;AACA,UAAA,KAAA,CAAA,KAAA,GAAA,qCAAA;AACA;AACA,OAPA;AAQA,KArBA;AAsBA,IAAA,OAtBA,mBAsBA,MAtBA,EAsBA;AACA,UAAA,OAAA,MAAA,IAAA,WAAA,EAAA;AACA,aAAA,KAAA,GAAA,KAAA,KAAA,IAAA,MAAA,GAAA,MAAA,GAAA,MAAA,CAAA,IAAA;AACA,aAAA,IAAA,GAAA,KAAA;AACA,aAAA,KAAA,GAAA,KAAA,KAAA;AACA,aAAA,WAAA;AACA,OALA,MAMA;AACA,aAAA,KAAA,GAAA,qCAAA;AACA;AACA;AAhCA;AA3BA,CAAA","sourcesContent":["<template>\n  <b-row>\n    <b-col cols=\"12\">\n    <Map :lat1=\"lat2\" :lng1=\"lng2\" :title1=\"title\"></Map>\n      <input class=\"auto\" v-model=\"input\" @input=\"onChange\" @keydown.enter=\"confirm(input)\" type=\"text\"/>\n        <ul v-show=\"flag\" v-if=\"p_data\" class=\"a1\">\n          <li class=\"result1\" v-for=\"(result,i) in p_data\" :key=\"i\" @click=\"confirm(result)\">\n          <span v-html=\"highLight(result.Name)\"></span>\n          </li>\n        </ul>\n     <span v-if=\"error\" class=\"err\">{{error}}</span>\n    </b-col>\n  </b-row>\n</template>\n\n<script>\nimport Map from './Map.vue'\nimport {gmapApi} from 'vue2-google-maps'\n\nexport default {\n  name: 'SearchBox',\n  components: {\n    Map\n  },\n  computed:{\n    google:gmapApi,\n  },\n  props: {\n    p_data: {\n      type:Array,\n      required:false,\n    }\n  },\n  data(){\n    return{\n      flag:false,\n      input:'',\n      search:\"\",\n      lat2:0,\n      lng2:0,\n      title:'',\n      error:'',\n    }\n  },\n\n  \n  methods:{\n    highLight(current) { //highlight the matching part\n      let reggie = new RegExp(this.input, \"gi\");\n      let found = current.search(reggie) !== -1;\n      return !found ? current : current.replace(reggie, function($1){return '<strong>' + $1 + '</strong>'});\n    },\n    onChange(){\n      this.error='';\n      this.$emit('search',this.input)\n      this.flag = true;\n    },\n    getLocation(){ //get location variables\n      var geocoder = new this.google.maps.Geocoder();\n      geocoder.geocode( { 'address': this.input}, (results, status) =>{\n      if (status == 'OK') {\n        this.lat2 = results[0].geometry.location.lat();\n        this.lng2 = results[0].geometry.location.lng();\n      } else {\n        this.error = 'Sorry not able to find the location';\n      }\n    });\n    },\n    confirm(result){ \n      if(typeof(result)!='undefined'){\n        this.input = this.input==result?result:result.Name\n        this.flag = false;\n        this.title = this.input;\n        this.getLocation();\n      }\n      else{\n        this.error = 'Sorry not able to find the location';\n      }\n    },\n  }\n}\n</script>\n<style>\n  .auto {\n    position: relative;\n    width:300px;\n  }\n  .a1 {\n    padding: 0;\n    margin: auto;\n    border: 1px solid #eeeeee;\n    width:300px;\n    height: 120px;\n    overflow: auto;\n  }\n\n  .result1 {\n    text-align: left;\n    padding: 4px 2px;\n    cursor: pointer;\n  }\n\n  .result1:hover {\n    background-color: #4080BF\t;\n    color: white;\n  }\n\n  .err{\n    display:block;\n    color:red;\n  }\n</style>\n"],"sourceRoot":"src/components"}]}